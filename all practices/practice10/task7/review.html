<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Review</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Russo+One&display=swap" rel="stylesheet">

</head>
<body>

<div class="container">
    <div class="rating">
        <img class="star star1" src="../img/staroff.png" width="32" height="32" alt="">
        <img class="star star2" src="../img/staroff.png" width="32" height="32" alt="">
        <img class="star star3" src="../img/staroff.png" width="32" height="32" alt="">
        <img class="star star4" src="../img/staroff.png" width="32" height="32" alt="">
        <img class="star star5" src="../img/staroff.png" width="32" height="32" alt="">
    </div>
    <div class="message">
        <h3 class="h3">Это шедевр!</h3>
        <textarea type="text" class="text-message"></textarea>
        <a href="#">Отправить</a>
    </div>
</div>
<script>

    let star = document.querySelectorAll(".star");
    let message = document.querySelector(".h3");
    let count = 0;
    let form = document.querySelector(".message");
    let flag = false;


    function change() {
        for (let i = 0; i < star.length; ++i) {

            star[i].addEventListener("mouseenter", function (event) {
                if (!flag) {
                    for (let j = 0; j < i + 1; j++) {
                        star[j].src = "../img/staron.png";
                    }
                }
            }, false);

            star[i].addEventListener("mouseleave", function (event) {
                if (!flag) {
                    for (let j = 0; j < i + 1; j++) {
                        star[j].src = "../img/staroff.png";
                    }
                }
            }, false);

            star[i].onclick = function () {
                flag = true;
                for (let k = 0; k < i + 1; ++k) {
                    count++;
                    star[k].src = "../img/staron.png";
                }
                form.classList.add("starSelected");
                if (count <= 2) {
                    message.textContent = "Плохо!";
                } else if (count === 3) {
                    message.textContent = "Приемлемо!";
                } else if (count === 4) {
                    message.textContent = "Хорошечно!";
                } else if (count === 5) {
                    message.textContent = "Это шедевр!";
                }
            }
        }
    }

    change();


</script>
</body>
</html>